<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Cron√¥metro</title>

    <!-- Tailwind CSS (base do shadcn/ui) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Lucide Icons (usado pelo shadcn/ui) -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>

    <!-- Configura√ß√£o do Tailwind para shadcn/ui -->
    <script>
      tailwind.config = {
        darkMode: ["class"],
        theme: {
          extend: {
            colors: {
              border: "hsl(var(--border))",
              input: "hsl(var(--input))",
              ring: "hsl(var(--ring))",
              background: "hsl(var(--background))",
              foreground: "hsl(var(--foreground))",
              primary: {
                DEFAULT: "hsl(var(--primary))",
                foreground: "hsl(var(--primary-foreground))",
              },
              secondary: {
                DEFAULT: "hsl(var(--secondary))",
                foreground: "hsl(var(--secondary-foreground))",
              },
              destructive: {
                DEFAULT: "hsl(var(--destructive))",
                foreground: "hsl(var(--destructive-foreground))",
              },
              muted: {
                DEFAULT: "hsl(var(--muted))",
                foreground: "hsl(var(--muted-foreground))",
              },
              accent: {
                DEFAULT: "hsl(var(--accent))",
                foreground: "hsl(var(--accent-foreground))",
              },
              popover: {
                DEFAULT: "hsl(var(--popover))",
                foreground: "hsl(var(--popover-foreground))",
              },
              card: {
                DEFAULT: "hsl(var(--card))",
                foreground: "hsl(var(--card-foreground))",
              },
            },
            borderRadius: {
              lg: "var(--radius)",
              md: "calc(var(--radius) - 2px)",
              sm: "calc(var(--radius) - 4px)",
            },
          },
        },
      };
    </script>

    <link rel="stylesheet" href="style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
  </head>
  <body
    class="min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900"
  >
    <!-- Background din√¢mico com fotos de educa√ß√£o -->
    <div
      class="background-slideshow fixed inset-0 z-0"
      id="backgroundSlideshow"
    >
      <!-- Slides ser√£o carregados dinamicamente via JavaScript -->
    </div>

    <div
      class="fixed inset-0 bg-gradient-to-br from-blue-900/80 via-slate-900/70 to-blue-900/80 z-10"
    ></div>

    <main
      class="relative z-20 min-h-screen flex flex-col items-center justify-center p-4"
    >
      <!-- Header -->
      <div class="w-full max-w-2xl mb-8">
        <div class="text-center">
          <h1
            class="text-2xl md:text-3xl font-bold text-white bg-gradient-to-r from-white to-yellow-200 bg-clip-text text-transparent"
          >
            ‚è±Ô∏è Cron√¥metro
          </h1>
        </div>
      </div>
      <!-- Timer Card -->
      <div class="w-full max-w-2xl mb-8">
        <div
          class="bg-white/10 backdrop-blur-md rounded-2xl border border-white/20 p-8 shadow-2xl"
        >
          <!-- Timer Display -->
          <div class="text-center mb-8">
            <div
              id="timer"
              aria-live="polite"
              class="text-8xl md:text-9xl font-bold text-white mb-4 font-mono tracking-wider filter drop-shadow-lg bg-gradient-to-r from-white to-yellow-200 bg-clip-text text-transparent"
            >
              00:00
            </div>
            <div
              id="timer-status"
              class="text-white/70 text-sm font-medium"
            ></div>
          </div>

          <!-- Timer Controls -->
          <div
            class="timer-controls grid grid-cols-2 md:grid-cols-4 gap-3 mb-6"
          >
            <!-- Adjust buttons -->
            <button
              data-action="adjust"
              data-min="-1"
              aria-label="Diminuir 1 minuto"
              class="btn btn-secondary flex items-center justify-center gap-1 px-2 py-2 rounded-md font-medium transition-all duration-200 bg-white/10 hover:bg-white/20 border border-white/20 text-white text-xs"
            >
              <i data-lucide="minus" class="w-3 h-3"></i>
              1min
            </button>

            <button
              data-action="adjust"
              data-min="1"
              aria-label="Aumentar 1 minuto"
              class="btn btn-secondary flex items-center justify-center gap-1 px-2 py-2 rounded-md font-medium transition-all duration-200 bg-white/10 hover:bg-white/20 border border-white/20 text-white text-xs"
            >
              <i data-lucide="plus" class="w-3 h-3"></i>
              1min
            </button>

            <button
              data-action="quick"
              data-min="5"
              class="btn btn-primary flex items-center justify-center gap-1 px-3 py-2 rounded-md font-medium transition-all duration-200 bg-yellow-500 hover:bg-yellow-600 text-black text-xs font-semibold shadow-lg"
            >
              <i data-lucide="clock" class="w-3 h-3"></i>
              5min
            </button>

            <button
              data-action="quick"
              data-min="10"
              class="btn btn-primary flex items-center justify-center gap-1 px-3 py-2 rounded-md font-medium transition-all duration-200 bg-yellow-500 hover:bg-yellow-600 text-black text-xs font-semibold shadow-lg"
            >
              <i data-lucide="clock" class="w-3 h-3"></i>
              10min
            </button>
          </div>

          <!-- Action buttons -->
          <div class="flex gap-3 justify-center">
            <button
              data-action="start"
              aria-label="Iniciar contador"
              class="btn btn-success flex items-center justify-center gap-2 px-6 py-3 rounded-lg font-medium transition-all duration-200 bg-green-600 hover:bg-green-700 text-white shadow-lg"
            >
              <i data-lucide="play" class="w-5 h-5"></i>
              Iniciar
            </button>

            <button
              data-action="pause"
              aria-label="Pausar contador"
              class="btn btn-warning flex items-center justify-center gap-2 px-6 py-3 rounded-lg font-medium transition-all duration-200 bg-orange-500 hover:bg-orange-600 text-white shadow-lg hidden"
            >
              <i data-lucide="pause" class="w-5 h-5"></i>
              Pausar
            </button>

            <button
              data-action="reset"
              aria-label="Resetar contador"
              class="btn btn-destructive flex items-center justify-center gap-2 px-6 py-3 rounded-lg font-medium transition-all duration-200 bg-red-600 hover:bg-red-700 text-white shadow-lg"
            >
              <i data-lucide="rotate-ccw" class="w-5 h-5"></i>
              Resetar
            </button>
          </div>
        </div>
      </div>
      <!-- Music Card -->
      <div class="w-full max-w-2xl">
        <div
          class="bg-white/10 backdrop-blur-md rounded-2xl border border-white/20 p-6 shadow-2xl"
        >
          <div class="flex items-center gap-3 mb-6">
            <i data-lucide="music" class="w-6 h-6 text-white"></i>
            <h2 class="text-xl font-semibold text-white">M√∫sica de Fundo</h2>
          </div>

          <div class="space-y-4">
            <!-- Music Select -->
            <div>
              <label class="sr-only" for="presetMusic">M√∫sicas suaves</label>
              <select
                id="presetMusic"
                class="w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent backdrop-blur-sm"
              >
                <option value="" class="bg-slate-800 text-white">
                  üéµ Selecione uma m√∫sica de fundo
                </option>
                <!-- Op√ß√µes ser√£o carregadas dinamicamente via JavaScript -->
              </select>
            </div>

            <!-- Custom YouTube Link -->
            <div>
              <input
                type="url"
                id="youtubeLink"
                placeholder="üîó Cole o link do YouTube aqui"
                class="w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent backdrop-blur-sm"
              />
            </div>

            <!-- Music Controls -->
            <div class="flex gap-3 justify-center">
              <button
                id="playCustom"
                class="flex items-center justify-center gap-2 px-6 py-3 rounded-lg font-medium transition-all duration-200 bg-green-600 hover:bg-green-700 text-white shadow-lg"
              >
                <i data-lucide="play" class="w-4 h-4"></i>
                Reproduzir
              </button>

              <button
                id="stopMusic"
                class="flex items-center justify-center gap-2 px-6 py-3 rounded-lg font-medium transition-all duration-200 bg-red-600 hover:bg-red-700 text-white shadow-lg"
              >
                <i data-lucide="square" class="w-4 h-4"></i>
                Parar
              </button>
            </div>

            <!-- Music Player -->
            <div class="music-player-container mt-4 flex justify-center">
              <iframe
                id="musicPlayer"
                width="0"
                height="0"
                frameborder="0"
                allow="autoplay; encrypted-media"
                class="rounded-lg shadow-lg"
              >
              </iframe>
            </div>

            <!-- Music Status -->
            <div
              id="musicStatus"
              class="text-center text-white/70 text-sm"
            ></div>
          </div>
        </div>
      </div>
    </main>

    <!-- Cache Status Indicator -->
    <div class="cache-indicator" id="cacheIndicator"></div>

    <script src="app.js"></script>

    <!-- Inicializar √≠cones do Lucide ap√≥s carregamento -->
    <script>
      // Garantir que os √≠cones sejam inicializados
      document.addEventListener("DOMContentLoaded", () => {
        if (typeof lucide !== "undefined") {
          lucide.createIcons();
        }
      });

      // Salvar estado antes de sair da p√°gina
      window.addEventListener("beforeunload", () => {
        // O JavaScript j√° salva automaticamente, mas garantir uma √∫ltima vez
        if (typeof saveTimerState === "function") {
          saveTimerState();
        }
      });
    </script>
  </body>
</html>
